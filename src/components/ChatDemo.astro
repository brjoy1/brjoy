---
import "../styles/components/chat-demo.css";
---

<section class="chat-demo-section dark-theme section-spacing">
    <div class="bg-glow"></div>
    <div class="container">
        <div class="chat-demo-grid">
            <!-- Left Column: Text Content -->
            <div class="chat-demo-content">
                <div class="live-badge-glass">
                    <span class="pulse-dot"></span>
                    Demo em Tempo Real
                </div>
                <h2 class="section-title text-white">
                    Sua Imobili√°ria <br />
                    <span class="text-gradient-gold">Rodando no Autom√°tico</span
                    >
                </h2>
                <p
                    class="section-subtitle text-gray-300"
                    style="margin: 0 0 40px 0; text-align: left;"
                >
                    Veja como nossa IA atende leads instantaneamente, qualifica
                    o perfil e agenda visitas no seu calend√°rio. Sem pausas, sem
                    erros.
                </p>

                <div class="demo-stats-row">
                    <div class="stat-item">
                        <span class="stat-val">24/7</span>
                        <span class="stat-label">Atendimento</span>
                    </div>
                    <div class="stat-divider"></div>
                    <div class="stat-item">
                        <span class="stat-val">Instant√¢neo</span>
                        <span class="stat-label">Resposta</span>
                    </div>
                    <div class="stat-divider"></div>
                    <div class="stat-item">
                        <span class="stat-val">100%</span>
                        <span class="stat-label">Qualifica√ß√£o</span>
                    </div>
                </div>

                <div class="playback-controls">
                    <button class="play-btn-primary" id="playBtn">
                        <span class="icon">‚ñ∂</span> Ver Demonstra√ß√£o
                    </button>
                    <button
                        class="reset-btn-glass"
                        id="resetBtn"
                        title="Reiniciar"
                    >
                        <span class="material-symbols-outlined">refresh</span>
                    </button>
                </div>
            </div>

            <!-- Right Column: Phone Demo -->
            <div class="chat-demo-visual">
                <div class="phone-mockup-3d">
                    <div class="phone-frame">
                        <div class="phone-notch"></div>
                        <div class="phone-screen">
                            <!-- WhatsApp Header -->
                            <div class="wa-header">
                                <div class="wa-header-left">
                                    <span class="wa-back">‚Äπ</span>
                                    <div class="wa-avatar">
                                        <img
                                            src="/images/mari.jpeg"
                                            alt="Maria - BrJoy Imobili√°ria"
                                        />
                                    </div>
                                    <div class="wa-info">
                                        <div class="wa-name">
                                            Maria - BrJoy Imobili√°ria
                                        </div>
                                        <div class="wa-status" id="waStatus">
                                            online
                                        </div>
                                    </div>
                                </div>
                                <div class="wa-actions">
                                    <span class="material-symbols-outlined"
                                        >videocam</span
                                    >
                                    <span class="material-symbols-outlined"
                                        >call</span
                                    >
                                </div>
                            </div>

                            <!-- Chat Area -->
                            <div class="wa-chat" id="chat">
                                <div class="wa-date">Hoje</div>
                                <!-- Messages will be injected here -->
                                <div class="wa-typing" id="typing">
                                    <span></span><span></span><span></span>
                                </div>
                            </div>

                            <!-- Input Area -->
                            <div class="wa-input-area">
                                <span class="material-symbols-outlined wa-icon"
                                    >sentiment_satisfied</span
                                >
                                <div class="wa-input-fake">Mensagem</div>
                                <div class="wa-input-actions">
                                    <span
                                        class="material-symbols-outlined wa-icon"
                                        >attach_file</span
                                    >
                                    <span
                                        class="material-symbols-outlined wa-icon"
                                        >photo_camera</span
                                    >
                                </div>
                                <button class="wa-send-btn">
                                    <span class="material-symbols-outlined"
                                        >mic</span
                                    >
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Floating Glass Card -->
                <div class="glass-card-float">
                    <div class="glass-header">
                        <span class="status-dot pulse"></span>
                        An√°lise em Tempo Real
                    </div>

                    <div class="glass-score-row">
                        <div class="score-ring-container">
                            <svg class="score-ring-svg" viewBox="0 0 36 36">
                                <path
                                    class="score-ring-bg"
                                    d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"
                                ></path>
                                <path
                                    class="score-ring-fill"
                                    id="scoreRing"
                                    stroke-dasharray="0, 100"
                                    d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"
                                ></path>
                            </svg>
                            <div class="score-text" id="scoreValue">0%</div>
                        </div>
                        <div class="score-info">
                            <span class="score-label">Potencial do Lead</span>
                            <span class="lead-status-badge" id="leadStatus"
                                >Novo Contato</span
                            >
                        </div>
                    </div>

                    <div class="glass-divider"></div>

                    <div class="glass-content">
                        <div class="glass-row" id="rowInterest">
                            <span class="icon">üè†</span>
                            <div class="data-col">
                                <span class="label">Interesse</span>
                                <span class="value" id="valInterest">--</span>
                            </div>
                        </div>
                        <div class="glass-row" id="rowLocation">
                            <span class="icon">üìç</span>
                            <div class="data-col">
                                <span class="label">Regi√£o</span>
                                <span class="value" id="valLocation">--</span>
                            </div>
                        </div>
                        <div class="glass-row" id="rowBudget">
                            <span class="icon">üí∞</span>
                            <div class="data-col">
                                <span class="label">Or√ßamento</span>
                                <span class="value" id="valBudget">--</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    import { initChatDemo } from "../scripts/chat-demo";

    document.addEventListener("DOMContentLoaded", () => {
        initChatDemo();
    });
</script>
