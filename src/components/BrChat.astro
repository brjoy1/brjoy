---

---

<div id="brform-root"></div>

<script>
    (function () {
        // =================================================================
        // üîΩ √ÅREA DE EDI√á√ÉO DO CLIENTE (CONFIGURE AQUI)
        // =================================================================

        // 1. WEBHOOK (SEGURAN√áA):
        // Para gerar este c√≥digo, abra o console do navegador (F12) e digite: btoa('SUA_URL_DO_N8N')
        // Exemplo abaixo decodifica para: https://webhook.site/exemplo
        const WEBHOOK_HASH =
            "aHR0cHM6Ly9wcmltYXJ5LXByb2R1Y3Rpb24tNDBiMi51cC5yYWlsd2F5LmFwcC93ZWJob29rL3Rlc3RsZWFkc3Rlcg==";

        // 2. IDENTIDADE VISUAL E CONTATO:
        const CONFIG = {
            whatsappNumber: "5511999999999", // Apenas n√∫meros (com DDI e DDD)
            primaryColor: "#000000", // Cor principal da marca
            primaryGradient:
                "linear-gradient(135deg, #000000 0%, #333333 100%)", // Gradiente do bot√£o
            agentName: "Consultor", // Nome que aparece no chat
            agentRole: "Atendimento", // Cargo abaixo do nome
            // Foto do atendente (Use uma URL v√°lida ou mantenha este placeholder)
            agentAvatar:
                "https://ui-avatars.com/api/?name=Suporte&background=0D8ABC&color=fff&size=128",
            ctaMessage: "Ol√°! Posso ajudar com um or√ßamento?", // Texto do bal√£o flutuante
            companyName: "Sua Empresa", // Nome para usar nos textos
            privacyLink: "/politica-de-privacidade", // Link da p√°gina de pol√≠tica
        };

        // 3. FLUXO DE PERGUNTAS (ROTEIRO):
        const FLOW = [
            {
                id: 1,
                type: "welcome_card",
                cardTitle: "Ol√°! Tudo bem? üëã",
                cardBody:
                    "Gostaria de receber uma <b>cota√ß√£o personalizada</b> em poucos minutos?",
                buttonText: "Sim, quero come√ßar",
                footerText: `Ao continuar, voc√™ concorda com nossa <a href='${CONFIG.privacyLink}' target='_blank' style='color:inherit;text-decoration:underline;'>Pol√≠tica de Privacidade</a>.`,
                key: "start",
            },
            {
                id: 2,
                text: "Perfeito! Para iniciarmos, qual √© o seu <b>nome completo</b>?",
                subText: "Assim podemos te chamar corretamente.",
                type: "text",
                validate: "name",
                autocomplete: "name",
                placeholder: "Nome e Sobrenome",
                key: "nome",
            },
            {
                id: 3,
                text: "Prazer! Qual seu <b>WhatsApp ou Telefone</b> para contato?",
                type: "phone",
                validate: "phone",
                autocomplete: "tel",
                placeholder: "(DDD) 99999-9999",
                key: "telefone",
            },
            {
                id: 4,
                text: "Entendido. E qual o seu melhor <b>e-mail</b>?",
                type: "email",
                validate: "email",
                autocomplete: "email",
                placeholder: "seu@email.com",
                key: "email",
            },
            {
                id: 5,
                text: "Recebido com sucesso! ‚úÖ",
                subText:
                    "Nossa equipe j√° est√° analisando seus dados e entrar√° em contato em instantes.",
                type: "end",
            },
        ];

        // =================================================================
        // ‚õî FIM DA √ÅREA DE EDI√á√ÉO - N√ÉO ALTERE ABAIXO (CORE ENGINE)
        // =================================================================

        // --- TRACKING & UTILS ---
        const Tracker = {
            getCookie: (e) => {
                const t = document.cookie.match(
                    new RegExp("(^| )" + e + "=([^;]+)"),
                );
                return t ? t[2] : null;
            },
            getGAClientId: () => {
                try {
                    const e = Tracker.getCookie("_ga");
                    if (e) {
                        const t = e.split(".");
                        if (t.length >= 3) return t.slice(2).join(".");
                    }
                    return "";
                } catch (_e) {
                    return "";
                }
            },
            getParams: () => {
                const e = new URLSearchParams(window.location.search),
                    t = "brform_tracking_data",
                    r = [
                        "utm_source",
                        "utm_medium",
                        "utm_campaign",
                        "utm_content",
                        "utm_term",
                        "utm_referrer",
                        "gclid",
                        "fbclid",
                    ];
                let n = {};
                try {
                    n = JSON.parse(sessionStorage.getItem(t) || "{}");
                } catch (_e) {}
                let a = {},
                    o = !1;
                if (
                    (r.forEach((r) => {
                        const i = e.get(r);
                        if (i) {
                            a[r] = i;
                            o = true;
                        } else if (n[r]) {
                            a[r] = n[r];
                        } else {
                            a[r] = "";
                        }
                    }),
                    !a.referrer &&
                    document.referrer &&
                    !document.referrer.includes(location.hostname)
                        ? ((a.referrer = document.referrer), (o = !0))
                        : n.referrer
                          ? (a.referrer = n.referrer)
                          : (a.referrer = document.referrer || ""),
                    o && sessionStorage.setItem(t, JSON.stringify(a)),
                    (a.gclientid = Tracker.getGAClientId()),
                    a)
                )
                    return a;
            },
        };
        const maskPhone = (e) => {
            let t = e.replace(/\D/g, "");
            return (
                t.startsWith("55") && t.length > 11 && (t = t.substring(2)),
                t
                    .replace(/^(\d{2})(\d)/, "($1) $2")
                    .replace(/(\d)(\d{4})$/, "$1-$2")
            );
        };
        const formatPhoneWebhook = (e) => {
            let t = e.replace(/\D/g, "");
            return (
                t.startsWith("55") || (t = "55" + t),
                t.startsWith("55") && t.length <= 11 && (t = "55" + t),
                t
            );
        };
        const Validators = {
            name: (e) => /^[a-zA-Z√Ä-√ø\s]{3,}$/.test(e.trim()),
            phone: (e) => e.replace(/\D/g, "").length >= 10,
            email: (e) => /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.trim()),
        };
        const sanitize = (e) => {
            const t = document.createElement("div");
            return ((t.textContent = e), t.innerHTML);
        };

        // --- CSS DIN√ÇMICO ---
        const STYLES = `@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');*{box-sizing:border-box;font-family:'Inter',sans-serif;-webkit-font-smoothing:antialiased}::-webkit-scrollbar{width:4px}::-webkit-scrollbar-track{background:0 0}::-webkit-scrollbar-thumb{background:#d1d5db;border-radius:10px}.launcher-container{position:fixed;bottom:24px;right:24px;display:flex;align-items:center;gap:16px;z-index:2147483647;cursor:pointer;transition:opacity .3s}.launcher-avatar-wrapper{position:relative;transition:transform .3s cubic-bezier(.34,1.56,.64,1)}.launcher-avatar-wrapper:hover{transform:scale(1.08)}.launcher-avatar{width:64px;height:64px;border-radius:50%;background-image:url('${CONFIG.agentAvatar}');background-size:cover;background-position:center;box-shadow:0 8px 24px rgba(0,0,0,.15);border:3px solid white;background-color:#eee}.online-badge{position:absolute;bottom:2px;right:2px;width:16px;height:16px;background-color:#10B981;border:2px solid white;border-radius:50%}.cta-bubble{background:#fff;padding:14px 20px;border-radius:12px;box-shadow:0 4px 20px rgba(0,0,0,.08);font-size:14px;color:#374151;font-weight:500;max-width:240px;position:relative;animation:fadeInLeft .5s ease forwards;opacity:0;transform:translateX(10px);display:flex;align-items:center}.cta-bubble::after{content:'';position:absolute;right:-6px;top:50%;transform:translateY(-50%);width:0;height:0;border-top:6px solid transparent;border-bottom:6px solid transparent;border-left:6px solid #fff}.chat-window{position:fixed;bottom:100px;right:24px;width:380px;height:640px;max-height:80vh;max-width:calc(100vw - 48px);background:#FFF;border-radius:24px;box-shadow:0 12px 48px -12px rgba(0,0,0,.18);display:flex;flex-direction:column;z-index:2147483647;opacity:0;pointer-events:none;transform:translateY(20px) scale(.95);transition:all .3s cubic-bezier(.16,1,.3,1);overflow:hidden;border:1px solid rgba(0,0,0,.06)}.chat-window.open{opacity:1;pointer-events:auto;transform:translateY(0) scale(1)}@media (max-width:480px){.launcher-container{bottom:20px;right:20px}.launcher-avatar{width:56px;height:56px}.cta-bubble{display:none}.chat-window{width:100%!important;height:100dvh!important;max-width:none!important;max-height:none!important;bottom:0!important;right:0!important;border-radius:0!important;transform:translateY(100%)!important}.chat-window.open{transform:translateY(0)!important}.header{border-radius:0;padding-top:env(safe-area-inset-top)}.input-area{padding-bottom:max(20px,env(safe-area-inset-bottom))}}.header{background:${CONFIG.primaryGradient};padding:20px;display:flex;align-items:center;color:#fff;flex-shrink:0}.header-info{margin-left:12px}.header-info h3{margin:0;font-size:16px;font-weight:700}.header-info p{margin:0;font-size:12px;opacity:.9}.close-btn{margin-left:auto;background:rgba(255,255,255,.15);border:none;color:#fff;width:30px;height:30px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center}.messages-area{flex:1;padding:20px;overflow-y:auto;background-color:#F9FAFB;display:flex;flex-direction:column;gap:16px}.message-row{display:flex;width:100%;animation:slideUp .4s cubic-bezier(.16,1,.3,1) forwards;opacity:0;transform:translateY(15px)}.message-row.bot{justify-content:flex-start}.message-row.user{justify-content:flex-end}.bubble{max-width:85%;padding:12px 16px;font-size:15.5px;line-height:1.55;position:relative;box-shadow:0 1px 2px rgba(0,0,0,.05)}.bubble.bot{background:#FFF;border-radius:18px;border-top-left-radius:4px;color:#374151;border:1px solid #F3F4F6}.bubble.user{background:${CONFIG.primaryGradient};color:#fff;border-radius:18px;border-top-right-radius:4px;font-weight:500}.welcome-card{background:#FFF;border-radius:16px;border-top-left-radius:4px;overflow:hidden;border:1px solid #F3F4F6;box-shadow:0 4px 12px rgba(0,0,0,.03);width:100%}.wc-header{padding:18px 18px 4px 18px;font-weight:700;color:#111827;font-size:16px}.wc-body{padding:0 18px 18px 18px;font-size:15px;color:#4B5563;line-height:1.5}.wc-action{padding:16px;border-top:1px solid #F3F4F6;background:#F9FAFB}.welcome-btn{width:100%;background:${CONFIG.primaryColor};color:#fff;border:none;padding:12px;border-radius:10px;font-weight:600;cursor:pointer;font-size:14px;display:flex;justify-content:space-between;align-items:center;box-shadow:0 4px 6px rgba(0,0,0,.15)}.wc-footer{font-size:12.5px;color:#9CA3AF;margin-top:10px;text-align:center;line-height:1.4}.input-area{padding:16px 20px;background:#fff;border-top:1px solid #F3F4F6;flex-shrink:0}.input-wrapper{display:flex;position:relative;border-radius:30px;align-items:center}.input-wrapper.error{animation:shake .4s both;border:1px solid #EF4444;border-radius:30px}input{width:100%;padding:14px 45px 14px 20px;border:1px solid #E5E7EB;border-radius:30px;outline:0;font-size:16px;color:#111827;background:#F9FAFB}input:focus{border-color:${CONFIG.primaryColor};background:#fff;box-shadow:0 0 0 4px rgba(0,0,0,.05)}input::placeholder{color:#9CA3AF;opacity:.8}.send-btn{position:absolute;right:6px;top:50%;transform:translateY(-50%);background:${CONFIG.primaryColor};color:#fff;border:none;width:36px;height:36px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:10}.send-btn:disabled{opacity:0.6;cursor:not-allowed}.whatsapp-card{text-align:center;margin-top:10px}.whatsapp-btn{display:flex;align-items:center;justify-content:center;gap:8px;width:100%;padding:14px;background:#10B981;color:#fff;border-radius:12px;text-decoration:none;font-weight:700;margin-top:12px}.typing-container{padding:12px 16px;background:#fff;border-radius:18px;border-top-left-radius:4px;border:1px solid #F3F4F6;width:fit-content}.typing-dots{display:flex;gap:4px}.dot{width:6px;height:6px;background:#D1D5DB;border-radius:50%;animation:bounce 1.4s infinite ease-in-out both}.dot:nth-child(2){animation-delay:-.16s}@keyframes slideUp{to{opacity:1;transform:translateY(0)}}@keyframes fadeInLeft{to{opacity:1;transform:translateX(0)}}@keyframes bounce{0%,80%,100%{transform:scale(0)}40%{transform:scale(1)}}@keyframes shake{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(2px,0,0)}}`;

        // --- LOGIC ENGINE ---
        class ChatWidget {
            constructor() {
                this.isOpen = false;
                this.hasRenderedWindow = false;
                this.currentStepIndex = 0;
                this.answers = {};
                this.root = document.getElementById("brform-root");
                this.shadow = this.root.attachShadow({ mode: "open" });
                this.renderLauncher();
                this.attachLauncherEvents();
                this.preloadImage();
            }

            preloadImage() {
                if (CONFIG.agentAvatar) {
                    const img = new Image();
                    img.src = CONFIG.agentAvatar;
                }
            }

            renderLauncher() {
                this.shadow.innerHTML = `
        <style>${STYLES}</style>
        <div class="launcher-container" id="launcher">
          <div class="cta-bubble" id="cta-bubble">
             <div class="typing-dots"><div class="dot"></div><div class="dot"></div><div class="dot"></div></div>
          </div>
          <div class="launcher-avatar-wrapper">
            <div class="launcher-avatar"></div>
            <div class="online-badge"></div>
          </div>
        </div>
      `;
                setTimeout(() => {
                    const bubble = this.shadow.getElementById("cta-bubble");
                    if (bubble) bubble.innerHTML = CONFIG.ctaMessage;
                }, 2500);
            }

            renderWindow() {
                if (this.hasRenderedWindow) return;
                const windowHtml = `
        <div class="chat-window" id="window">
          <div class="header">
            <div style="position:relative">
              <img src="${CONFIG.agentAvatar}" style="width:40px;height:40px;border-radius:50%;border:2px solid rgba(255,255,255,0.8)">
              <div style="position:absolute;bottom:0;right:0;width:10px;height:10px;background:#10B981;border:2px solid white;border-radius:50%"></div>
            </div>
            <div class="header-info">
              <h3>${CONFIG.agentName}</h3>
              <p>${CONFIG.agentRole}</p>
            </div>
            <button class="close-btn" id="close">
              <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/></svg>
            </button>
          </div>
          <div class="messages-area" id="messages"></div>
          <div class="input-area" id="input-area"></div>
        </div>
      `;
                const tempDiv = document.createElement("div");
                tempDiv.innerHTML = windowHtml;
                this.shadow.appendChild(tempDiv.firstElementChild);
                this.dom = {
                    launcher: this.shadow.getElementById("launcher"),
                    window: this.shadow.getElementById("window"),
                    closeBtn: this.shadow.getElementById("close"),
                    messages: this.shadow.getElementById("messages"),
                    inputArea: this.shadow.getElementById("input-area"),
                };
                this.dom.closeBtn.addEventListener("click", (e) => {
                    e.stopPropagation();
                    this.toggle();
                });
                this.hasRenderedWindow = true;
            }

            attachLauncherEvents() {
                this.shadow
                    .getElementById("launcher")
                    .addEventListener("click", () => this.toggle());
            }

            toggle() {
                if (!this.hasRenderedWindow) this.renderWindow();
                this.isOpen = !this.isOpen;
                requestAnimationFrame(() => {
                    this.dom.window.classList.toggle("open", this.isOpen);
                    const launcher = this.shadow.getElementById("launcher");
                    launcher.style.transform = this.isOpen
                        ? "scale(0.8)"
                        : "scale(1)";
                    launcher.style.opacity = this.isOpen ? "0" : "1";
                    launcher.style.pointerEvents = this.isOpen
                        ? "none"
                        : "auto";
                    if (this.isOpen && this.dom.messages.children.length === 0)
                        this.processStep();
                });
            }

            scrollToBottom() {
                if (!this.dom.messages) return;
                const scroll = () =>
                    (this.dom.messages.scrollTop =
                        this.dom.messages.scrollHeight);
                requestAnimationFrame(scroll);
                setTimeout(scroll, 100);
            }

            processStep() {
                const step = FLOW[this.currentStepIndex];
                if (!step) return;
                this.showTyping();
                const delay = step.type === "welcome_card" ? 600 : 1200;
                setTimeout(() => {
                    this.removeTyping();
                    if (step.type === "welcome_card") {
                        this.addWelcomeCard(step);
                    } else {
                        this.addBotMessage(step.text);
                        if (step.subText) {
                            this.showTyping();
                            setTimeout(() => {
                                this.removeTyping();
                                this.addBotMessage(step.subText);
                                this.scrollToBottom();
                            }, 800);
                        }
                    }
                    this.renderInput(step);
                    this.scrollToBottom();
                }, delay);
            }

            renderInput(step) {
                this.dom.inputArea.innerHTML = "";
                if (step.type === "welcome_card") {
                    this.dom.inputArea.style.display = "none";
                    return;
                }
                this.dom.inputArea.style.display = "block";

                if (step.type === "end") {
                    this.dom.inputArea.innerHTML = `
          <div class="whatsapp-card">
             <p style="margin:0 0 12px 0; font-size:14px; color:#6B7280; line-height:1.4;">
                Prefere n√£o esperar? <b>Fale com o consultor agora:</b>
             </p>
             <a href="https://wa.me/${CONFIG.whatsappNumber}" target="_blank" class="whatsapp-btn">
               <svg width="24" height="24" fill="white" viewBox="0 0 24 24"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372-.272.297-1.04 1.017-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>Falar no WhatsApp</a></div>`;
                    this.sendData();
                    this.scrollToBottom();
                    return;
                }

                const wrapper = document.createElement("div");
                wrapper.className = "input-wrapper";
                const input = document.createElement("input");
                if (step.autocomplete)
                    input.setAttribute("autocomplete", step.autocomplete);
                if (step.type === "email") {
                    input.type = "email";
                    input.setAttribute("inputmode", "email");
                } else if (step.type === "phone") {
                    input.type = "tel";
                    input.setAttribute("inputmode", "tel");
                } else {
                    input.type = "text";
                }
                input.placeholder =
                    step.placeholder || "Escreva sua resposta...";
                if (step.type === "phone") {
                    input.maxLength = 18;
                    input.addEventListener("input", (e) => {
                        e.target.value = maskPhone(e.target.value);
                    });
                }
                const btn = document.createElement("button");
                btn.className = "send-btn";
                btn.innerHTML =
                    '<svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 12h14M12 5l7 7-7 7"/></svg>';

                const trySubmit = () => {
                    const val = input.value;
                    if (step.validate && Validators[step.validate]) {
                        if (!Validators[step.validate](val)) {
                            wrapper.classList.add("error");
                            input.addEventListener(
                                "input",
                                () => wrapper.classList.remove("error"),
                                { once: true },
                            );
                            return;
                        }
                    }
                    if (!val.trim()) {
                        wrapper.classList.add("error");
                        return;
                    }
                    input.disabled = true;
                    btn.disabled = true;
                    this.handleAnswer(sanitize(val));
                };
                btn.onclick = trySubmit;
                input.onkeypress = (e) => {
                    if (e.key === "Enter") trySubmit();
                };
                wrapper.appendChild(input);
                wrapper.appendChild(btn);
                this.dom.inputArea.appendChild(wrapper);
            }

            addWelcomeCard(step) {
                const div = document.createElement("div");
                div.className = "message-row bot";
                div.innerHTML = `<div class="welcome-card"><div class="wc-header">${step.cardTitle}</div><div class="wc-body">${step.cardBody}</div><div class="wc-action"><button class="welcome-btn" id="start-btn">${step.buttonText} <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M13 7l5 5m0 0l-5 5m5-5H6"/></svg></button><div class="wc-footer">${step.footerText}</div></div></div>`;
                this.dom.messages.appendChild(div);
                div.querySelector("#start-btn").onclick = function () {
                    this.disabled = true;
                    window.brformWidget.handleAnswer("Sim, quero realizar");
                };
                this.scrollToBottom();
            }

            addBotMessage(text) {
                const div = document.createElement("div");
                div.className = "message-row bot";
                div.innerHTML = `<div class="bubble bot">${text}</div>`;
                this.dom.messages.appendChild(div);
            }

            handleAnswer(answer) {
                const div = document.createElement("div");
                div.className = "message-row user";
                div.innerHTML = `<div class="bubble user">${answer}</div>`;
                this.dom.messages.appendChild(div);
                const step = FLOW[this.currentStepIndex];
                if (step.key) this.answers[step.key] = answer;
                this.currentStepIndex++;
                this.processStep();
            }

            showTyping() {
                const div = document.createElement("div");
                div.id = "typing";
                div.className = "message-row bot";
                div.innerHTML = `<div class="typing-container"><div class="typing-dots"><div class="dot"></div><div class="dot"></div><div class="dot"></div></div></div>`;
                this.dom.messages.appendChild(div);
                this.scrollToBottom();
            }

            removeTyping() {
                const el = this.shadow.getElementById("typing");
                if (el) el.remove();
            }

            sendData() {
                const url = atob(WEBHOOK_HASH);
                const finalAnswers = { ...this.answers };
                if (finalAnswers.telefone)
                    finalAnswers.telefone = formatPhoneWebhook(
                        finalAnswers.telefone,
                    );
                const payload = {
                    ...finalAnswers,
                    ...Tracker.getParams(),
                    metadata: {
                        url: window.location.href,
                        ts: new Date().toISOString(),
                    },
                };
                fetch(url, {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify(payload),
                    keepalive: true,
                }).catch((err) => console.error("Erro envio:", err));
            }
        }

        const init = () => {
            if (document.getElementById("brform-root"))
                window.brformWidget = new ChatWidget();
        };
        if (document.readyState === "complete") {
            init();
        } else {
            document.addEventListener("DOMContentLoaded", init);
        }
    })();
</script>
